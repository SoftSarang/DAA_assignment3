<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<title>Graph 6</title>
<script src='https://d3js.org/d3.v7.min.js'></script>
<style>
body{font-family:Arial;margin:0;padding:20px;background:#f5f5f5}
.container{max-width:1600px;margin:0 auto;background:white;padding:20px;border-radius:10px}
h1{color:#333;margin:0 0 10px 0}
.layout{display:grid;grid-template-columns:250px 1fr;gap:20px}
.sidebar{background:#f8f9fa;padding:15px;border-radius:8px;max-height:700px;overflow-y:auto}
.info{background:#e3f2fd;padding:15px;border-radius:5px;margin-bottom:15px;font-size:14px}
.controls{margin-bottom:15px}
button{background:#2196F3;color:white;border:none;padding:8px 15px;margin:3px;border-radius:5px;cursor:pointer;font-size:13px;width:100%}
button:hover{background:#1976D2}
button.reset{background:#FF5722}
.vertex-list{margin-top:15px}
.vertex-item{background:white;padding:10px;margin:5px 0;border-radius:5px;cursor:pointer;border:2px solid transparent;font-size:13px}
.vertex-item:hover{border-color:#2196F3;background:#e3f2fd}
.vertex-item.selected{background:#4CAF50;color:white;border-color:#4CAF50}
.vertex-item .degree{float:right;color:#999;font-size:11px}
.vertex-item.selected .degree{color:white}
.search-box{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ddd;border-radius:5px;box-sizing:border-box}
#graph{border:1px solid #ddd;background:white;border-radius:5px}
.links line{stroke:#999;stroke-opacity:0.6;stroke-width:1.5px}
.links line.hidden{display:none}
.links line.highlighted{stroke:#FF5722;stroke-width:3px;stroke-opacity:1}
.nodes circle{stroke:#fff;stroke-width:2px;fill:#2196F3;cursor:pointer}
.nodes circle.hidden{display:none}
.nodes circle.highlighted{fill:#4CAF50;r:18;stroke-width:3px}
.nodes circle.neighbor{fill:#FF9800}
.nodes text{font-size:11px;font-weight:bold;fill:white;pointer-events:none}
.nodes text.hidden{display:none}
.weight-label{fill:#1565C0;font-size:11px;font-weight:bold;pointer-events:none}
.weight-label.hidden{display:none}
.stats{margin-top:15px;padding:10px;background:#fff3e0;border-radius:5px;font-size:12px}
.stats div{margin:5px 0}
</style>
</head>
<body>
<div class='container'>
<h1>Graph 6</h1>
<div class='layout'>
<div class='sidebar'>
<div class='info'>
Vertices: 30<br>Edges: 90<br>Avg Degree: 6,0
</div>
<div class='controls'>
<button class='reset' onclick='reset()'>Show All</button>
<button onclick='toggleWeights()'>Toggle Weights</button>
</div>
<input type='text' class='search-box' id='search' placeholder='Search...' onkeyup='search()'>
<div class='vertex-list' id='list'></div>
<div class='stats' id='stats'>
<div>Showing: <strong id='count'>30</strong> vertices</div>
<div>Selected neighbors: <strong id='neighbors'>0</strong></div>
</div>
</div>
<div><svg id='graph' width='1100' height='700'></svg></div>
</div>
<script>
const data=[{"id":"V1"},{"id":"V2"},{"id":"V3"},{"id":"V4"},{"id":"V5"},{"id":"V6"},{"id":"V7"},{"id":"V8"},{"id":"V9"},{"id":"V10"},{"id":"V11"},{"id":"V12"},{"id":"V13"},{"id":"V14"},{"id":"V15"},{"id":"V16"},{"id":"V17"},{"id":"V18"},{"id":"V19"},{"id":"V20"},{"id":"V21"},{"id":"V22"},{"id":"V23"},{"id":"V24"},{"id":"V25"},{"id":"V26"},{"id":"V27"},{"id":"V28"},{"id":"V29"},{"id":"V30"}];
const links=[{"source":"V1","target":"V2","weight":9.80595415127697},{"source":"V1","target":"V3","weight":0.08706277152682795},{"source":"V3","target":"V4","weight":3.8747271990568057},{"source":"V3","target":"V5","weight":3.815781229077293},{"source":"V3","target":"V6","weight":5.91278986074974},{"source":"V3","target":"V7","weight":6.5910245682198685},{"source":"V1","target":"V8","weight":9.273340163214076},{"source":"V7","target":"V9","weight":8.963768597404378},{"source":"V4","target":"V10","weight":4.89374396966117},{"source":"V6","target":"V11","weight":0.7179690739772437},{"source":"V10","target":"V12","weight":7.924493367463929},{"source":"V4","target":"V13","weight":2.4766562842853848},{"source":"V1","target":"V14","weight":0.3514705464193324},{"source":"V13","target":"V15","weight":7.484626424582812},{"source":"V7","target":"V16","weight":5.230702328456776},{"source":"V12","target":"V17","weight":5.236065507189133},{"source":"V1","target":"V18","weight":6.053161051320004},{"source":"V18","target":"V19","weight":9.848359466919684},{"source":"V18","target":"V20","weight":5.638273099592556},{"source":"V8","target":"V21","weight":6.988077703138186},{"source":"V20","target":"V22","weight":7.72391101567131},{"source":"V22","target":"V23","weight":0.7005424008943095},{"source":"V19","target":"V24","weight":1.6040285057006065},{"source":"V11","target":"V25","weight":7.151980911856244},{"source":"V8","target":"V26","weight":8.036035875075097},{"source":"V7","target":"V27","weight":3.9857100376561885},{"source":"V24","target":"V28","weight":5.586195145093478},{"source":"V27","target":"V29","weight":8.70328297427162},{"source":"V4","target":"V30","weight":5.783582662611471},{"source":"V7","target":"V23","weight":1.780248458218992},{"source":"V17","target":"V16","weight":1.6365092026275931},{"source":"V30","target":"V9","weight":8.480654537399731},{"source":"V23","target":"V14","weight":2.0080742701881653},{"source":"V29","target":"V25","weight":6.304209897748325},{"source":"V8","target":"V22","weight":8.912161332754076},{"source":"V18","target":"V15","weight":4.756071125816511},{"source":"V20","target":"V17","weight":8.245343683060401},{"source":"V20","target":"V2","weight":1.6134737856313817},{"source":"V10","target":"V19","weight":9.644251653492308},{"source":"V1","target":"V30","weight":5.146751377398476},{"source":"V30","target":"V13","weight":8.144957368408656},{"source":"V17","target":"V11","weight":9.25303172205184},{"source":"V30","target":"V25","weight":9.44607248608455},{"source":"V16","target":"V30","weight":3.819903420234943},{"source":"V10","target":"V18","weight":5.70120831110088},{"source":"V22","target":"V29","weight":8.938590229311615},{"source":"V5","target":"V12","weight":9.521370165445541},{"source":"V3","target":"V23","weight":9.059801825912576},{"source":"V25","target":"V13","weight":3.669618578498673},{"source":"V2","target":"V23","weight":6.565315212873054},{"source":"V14","target":"V6","weight":9.138333156098211},{"source":"V13","target":"V19","weight":7.514473405141093},{"source":"V20","target":"V12","weight":1.9136768761655714},{"source":"V28","target":"V23","weight":5.166860385822971},{"source":"V20","target":"V16","weight":9.783509142117184},{"source":"V12","target":"V13","weight":8.722584714429715},{"source":"V1","target":"V10","weight":5.4052630838481495},{"source":"V11","target":"V16","weight":5.093987914886729},{"source":"V11","target":"V7","weight":4.835282001026065},{"source":"V27","target":"V2","weight":3.40079240279712},{"source":"V6","target":"V13","weight":5.3485167629550725},{"source":"V4","target":"V9","weight":3.147719514819269},{"source":"V18","target":"V21","weight":3.9918530538166443},{"source":"V28","target":"V6","weight":4.137813651637507},{"source":"V14","target":"V2","weight":8.521038847605798},{"source":"V16","target":"V8","weight":3.5957415970506625},{"source":"V18","target":"V22","weight":6.045524413699717},{"source":"V12","target":"V28","weight":7.2461642726946},{"source":"V4","target":"V2","weight":7.365281869889938},{"source":"V16","target":"V2","weight":8.715580224439105},{"source":"V8","target":"V12","weight":6.992928465882445},{"source":"V5","target":"V22","weight":2.721597985227321},{"source":"V20","target":"V10","weight":5.3163074688441485},{"source":"V19","target":"V27","weight":2.0227126657869965},{"source":"V23","target":"V26","weight":7.617399934755021},{"source":"V22","target":"V9","weight":5.937826646928894},{"source":"V30","target":"V15","weight":3.0605368950604714},{"source":"V27","target":"V21","weight":4.1707254550679345},{"source":"V5","target":"V26","weight":8.919607520105743},{"source":"V18","target":"V13","weight":7.977926664247078},{"source":"V12","target":"V14","weight":2.022342494333013},{"source":"V1","target":"V27","weight":2.072481261736366},{"source":"V15","target":"V23","weight":2.7943955372183886},{"source":"V19","target":"V23","weight":5.624140258696417},{"source":"V10","target":"V14","weight":8.669166102553316},{"source":"V12","target":"V6","weight":5.6543390258206125},{"source":"V28","target":"V3","weight":6.559412688286212},{"source":"V3","target":"V14","weight":7.560886620705742},{"source":"V10","target":"V23","weight":2.0217216427256526},{"source":"V15","target":"V26","weight":9.11541506442436}];
const adj={};
data.forEach(n=>adj[n.id]=[]);
links.forEach(l=>{adj[l.source].push(l.target);adj[l.target].push(l.source);});
const w=1100,h=700;
const svg=d3.select('#graph');
const g=svg.append('g');
const zoom=d3.zoom().scaleExtent([0.3,3]).on('zoom',e=>g.attr('transform',e.transform));
svg.call(zoom);
const sim=d3.forceSimulation(data).force('link',d3.forceLink(links).id(d=>d.id).distance(100))
.force('charge',d3.forceManyBody().strength(-200)).force('center',d3.forceCenter(w/2,h/2))
.force('collision',d3.forceCollide().radius(25));
const link=g.append('g').attr('class','links').selectAll('line').data(links).enter().append('line');
const weights=g.append('g').selectAll('text').data(links).enter().append('text')
.attr('class','weight-label').attr('text-anchor','middle').attr('dy',4)
.text(d=>d.weight.toFixed(1));
const node=g.append('g').attr('class','nodes').selectAll('g').data(data).enter().append('g')
.call(d3.drag().on('start',(e,d)=>{if(!e.active)sim.alphaTarget(0.3).restart();d.fx=d.x;d.fy=d.y;})
.on('drag',(e,d)=>{d.fx=e.x;d.fy=e.y;}).on('end',(e,d)=>{if(!e.active)sim.alphaTarget(0);d.fx=null;d.fy=null;}));
node.append('circle').attr('r',14).on('click',(e,d)=>{e.stopPropagation();filter(d.id);});
node.append('text').attr('text-anchor','middle').attr('dy',4).text(d=>d.id.replace('V',''));
sim.on('tick',()=>{
link.attr('x1',d=>d.source.x).attr('y1',d=>d.source.y).attr('x2',d=>d.target.x).attr('y2',d=>d.target.y);
weights.attr('x',d=>(d.source.x+d.target.x)/2).attr('y',d=>(d.source.y+d.target.y)/2);
node.attr('transform',d=>`translate(${d.x},${d.y})`);
});
let sel=null,wv=true;
function filter(v){
sel=v;
const n=new Set(adj[v]);
n.add(v);
node.select('circle').classed('hidden',d=>!n.has(d.id)).classed('highlighted',d=>d.id===v)
.classed('neighbor',d=>d.id!==v&&n.has(d.id));
node.select('text').classed('hidden',d=>!n.has(d.id));
link.classed('hidden',d=>!n.has(d.source.id)||!n.has(d.target.id))
.classed('highlighted',d=>d.source.id===v||d.target.id===v);
if(wv){weights.classed('hidden',d=>!n.has(d.source.id)||!n.has(d.target.id));}
document.querySelectorAll('.vertex-item').forEach(i=>i.classList.toggle('selected',i.dataset.v===v));
document.getElementById('count').textContent=n.size;
document.getElementById('neighbors').textContent=n.size-1;
}
function reset(){
sel=null;
node.select('circle').classed('hidden',false).classed('highlighted',false).classed('neighbor',false);
node.select('text').classed('hidden',false);
link.classed('hidden',false).classed('highlighted',false);
if(wv){weights.classed('hidden',false);}
document.querySelectorAll('.vertex-item').forEach(i=>i.classList.remove('selected'));
document.getElementById('count').textContent=data.length;
document.getElementById('neighbors').textContent=0;
}
function toggleWeights(){
wv=!wv;
if(!wv){weights.classed('hidden',true);}
else if(sel){
const n=new Set(adj[sel]);
n.add(sel);
weights.classed('hidden',d=>!n.has(d.source.id)||!n.has(d.target.id));}
else{weights.classed('hidden',false);}}
function search(){
const q=document.getElementById('search').value.toLowerCase();
document.querySelectorAll('.vertex-item').forEach(i=>i.style.display=i.textContent.toLowerCase().includes(q)?'block':'none');
}
const list=document.getElementById('list');
data.sort((a,b)=>parseInt(a.id.replace('V',''))-parseInt(b.id.replace('V',''))).forEach(n=>{
const deg=adj[n.id].length;
const item=document.createElement('div');
item.className='vertex-item';item.dataset.v=n.id;
item.innerHTML=`${n.id} <span class='degree'>${deg}</span>`;
item.onclick=()=>filter(n.id);
list.appendChild(item);
});
</script>
</div>
</body>
</html>